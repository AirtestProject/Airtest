

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Airtest &mdash; airtest  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="airtest  documentation" href="index.html"/>
        <link rel="next" title="airtest.core.api module" href="all_module/airtest.core.api.html"/>
        <link rel="prev" title="Welcome to Airtest documentation!" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> airtest
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Airtest</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-as-python-package">Using as python package</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-from-command-line-interface">Running from command line interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#run-test-case">run test case</a></li>
<li class="toctree-l3"><a class="reference internal" href="#generate-html-report">generate html report</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-test-case-info">get test case info</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="all_module/airtest.core.api.html">airtest.core.api module</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="all_module/airtest.core.android.html">airtest.core.android package</a></li>
<li class="toctree-l1"><a class="reference internal" href="all_module/airtest.core.ios.html">airtest.core.ios package</a></li>
<li class="toctree-l1"><a class="reference internal" href="all_module/airtest.core.win.html">airtest.core.win package</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="all_module/airtest.html">airtest package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">airtest</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Airtest</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/README.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="airtest">
<span id="airtest"></span><h1>Airtest<a class="headerlink" href="#airtest" title="Permalink to this headline">¶</a></h1>
<p>Automated Testing Framework</p>
<div class="section" id="getting-started">
<span id="getting-started"></span><h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>Airtest is an automated testing framework with main focus on games, however it can be used for other native applications as well. Currently, Windows and Android operating systems are supported. Support for iOS comes in near future.</p>
<p>Airtest framework is based on image recognition technology and provides cross-platform APIs that allows to install application, perform simulated input, make assertions, and so forth. It also generates the report when testing is finished.</p>
<p><strong>AirtestIDE</strong> is an out of the box GUI tool that helps to create and record test cases in the user-friendly way. AirtestIDE provides QA with entire production workflow: <code class="docutils literal"><span class="pre">record</span> <span class="pre">-&gt;</span> <span class="pre">replay</span> <span class="pre">-&gt;</span> <span class="pre">report</span></code></p>
</div>
<div class="section" id="installation">
<span id="installation"></span><h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>This section describes how to install Airtest test framework.</p>
<p><strong>System Requirements</strong></p>
<ul class="simple">
<li>Operating System:<ul>
<li>Windows</li>
<li>MacOS X</li>
<li>Linux</li>
</ul>
</li>
<li>Python2.7 &amp; Python3.3+</li>
</ul>
<p><strong>Installing the python package</strong></p>
<p>Airtest package can be installed directly from Git repository. Use <code class="docutils literal"><span class="pre">pip</span></code> to manage installation of all python dependencies and package itself.</p>
<div class="highlight-Shell"><div class="highlight"><pre><span></span>git clone https://github.com/Meteorix/airtest.git
pip install -e airtest

<span class="c1"># for netease internal gitlab</span>
<span class="c1"># git clone ssh://git@git-qa.gz.netease.com:32200/gzliuxin/airtest.git</span>
</pre></div>
</div>
<p>Use <code class="docutils literal"><span class="pre">-e</span></code> here to install airtest in develop mode since this repo is in rapid development. Then you can upgrade the repo with <code class="docutils literal"><span class="pre">git</span> <span class="pre">pull</span></code> later.</p>
<p><strong>Using samples</strong></p>
<p>Airtest also contains the samples using this library in several scenarios. All samples can be found in <code class="docutils literal"><span class="pre">playground</span></code> directory in cloned repository.</p>
</div>
<div class="section" id="documentation">
<span id="documentation"></span><h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p>For now please clone this repo and open <a class="reference external" href="./docs-release">docs-release/index.html</a>.</p>
<p>Online docs will be available on readthedocs when this project is released.</p>
</div>
<div class="section" id="using-as-python-package">
<span id="using-as-python-package"></span><h2>Using as python package<a class="headerlink" href="#using-as-python-package" title="Permalink to this headline">¶</a></h2>
<p>Airtest provides simple APIs that are platform independent. This section describes how to create simple API-specific test scenario which does the following:</p>
<ol class="simple">
<li>connects to local android device with <code class="docutils literal"><span class="pre">adb</span></code></li>
<li>installs the <code class="docutils literal"><span class="pre">apk</span></code> application</li>
<li>runs application and takes the screenshot</li>
<li>performs several user operations (touch, swipe, keyevent)</li>
<li>uninstalls application</li>
</ol>
<div class="highlight-Python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">airtest.core.api</span> <span class="kn">import</span> <span class="o">*</span>

<span class="c1"># connect to local device with adb</span>
<span class="n">connect_device</span><span class="p">(</span><span class="s2">&quot;Android:///&quot;</span><span class="p">)</span>

<span class="c1"># start your script here</span>
<span class="n">install</span><span class="p">(</span><span class="s2">&quot;path/to/your/apk&quot;</span><span class="p">)</span>
<span class="n">start_app</span><span class="p">(</span><span class="s2">&quot;package_name_of_your_apk&quot;</span><span class="p">)</span>
<span class="n">snapshot</span><span class="p">(</span><span class="s2">&quot;my_screenshot.png&quot;</span><span class="p">)</span>
<span class="n">touch</span><span class="p">((</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">touch</span><span class="p">(</span><span class="s2">&quot;image_of_a_button.png&quot;</span><span class="p">)</span>
<span class="n">swipe</span><span class="p">((</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
<span class="n">swipe</span><span class="p">(</span><span class="s2">&quot;button1.png&quot;</span><span class="p">,</span> <span class="s2">&quot;button2.png&quot;</span><span class="p">)</span>
<span class="n">keyevent</span><span class="p">(</span><span class="s2">&quot;BACK&quot;</span><span class="p">)</span>
<span class="n">home</span><span class="p">()</span>
<span class="n">uninstall</span><span class="p">(</span><span class="s2">&quot;package_name_of_your_apk&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For more detailed info, please refer to full <a class="reference external" href="./all_module/airtest.core.api.html">Airtest Python API reference</a> or take a look at <a class="reference external" href="./airtest/core/api.py">API code</a></p>
</div>
<div class="section" id="running-from-command-line-interface">
<span id="running-from-command-line-interface"></span><h2>Running from command line interface<a class="headerlink" href="#running-from-command-line-interface" title="Permalink to this headline">¶</a></h2>
<p>Airtest can be run from command line interface as well. All test cases, test code and image templates must be placed in one directory with <code class="docutils literal"><span class="pre">.owl</span></code> suffix. The easiest way to create and record the test cases is to use GUI <strong>Airtest IDE</strong>.</p>
<p>The biggest advantage of using the Airtest CLI is the possibility to execute the test cases and test scenarios on different host machine without using IDE itself. Connections to devices are specified by command line arguments, i.e. the test code is platform independent and one code, test cases, scenarios can be used for Android, Windows or iOS devices as well.</p>
<p>Following examples demonstrate the basic usage of airtest framework from CLI. For more detailed info, refer to provided samples of test cases and code: <code class="docutils literal"><span class="pre">airtest/playground/test_blackjack.owl/</span></code></p>
<div class="section" id="run-test-case">
<span id="run-test-case"></span><h3>run test case<a class="headerlink" href="#run-test-case" title="Permalink to this headline">¶</a></h3>
<div class="highlight-Shell"><div class="highlight"><pre><span></span><span class="c1"># run test test cases and scenarios on various devices</span>
&gt; python -m airtest run &lt;path to your owl dir&gt; --device Android:///
&gt; python -m airtest run &lt;path to your owl dir&gt; --device Android://adbhost:adbport/serialno
&gt; python -m airtest run &lt;path to your owl dir&gt; --device Windows:///
&gt; python -m airtest run &lt;path to your owl dir&gt; --device iOS:///
...
<span class="c1"># show help</span>
&gt; python -m airtest run -h
usage: __main__.py run <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>--device <span class="o">[</span>DEVICE<span class="o">]]</span> <span class="o">[</span>--log <span class="o">[</span>LOG<span class="o">]]</span>
                       <span class="o">[</span>--kwargs KWARGS<span class="o">]</span> <span class="o">[</span>--pre PRE<span class="o">]</span> <span class="o">[</span>--post POST<span class="o">]</span>
                       script

positional arguments:
  script             owl path

optional arguments:
  -h, --help         show this <span class="nb">help</span> message and <span class="nb">exit</span>
  --device <span class="o">[</span>DEVICE<span class="o">]</span>  connect dev by uri string, e.g. Android:///
  --log <span class="o">[</span>LOG<span class="o">]</span>        <span class="nb">set</span> log dir, default to be script dir
  --kwargs KWARGS    extra kwargs used in script as global variables, e.g.
                     <span class="nv">a</span><span class="o">=</span><span class="m">1</span>,b<span class="o">=</span><span class="m">2</span>
  --pre PRE          owl run before script, setup environment
  --post POST        owl run after script, clean up environment, will run
                     whether script success or fail
</pre></div>
</div>
</div>
<div class="section" id="generate-html-report">
<span id="generate-html-report"></span><h3>generate html report<a class="headerlink" href="#generate-html-report" title="Permalink to this headline">¶</a></h3>
<div class="highlight-Shell"><div class="highlight"><pre><span></span>&gt; python -m airtest report &lt;path to your owl directory&gt;
log.html
&gt; python -m airtest report -h
usage: __main__.py report <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>--outfile OUTFILE<span class="o">]</span> <span class="o">[</span>--static_root STATIC_ROOT<span class="o">]</span>
                          <span class="o">[</span>--log_root LOG_ROOT<span class="o">]</span> <span class="o">[</span>--gif <span class="o">[</span>GIF<span class="o">]]</span>
                          <span class="o">[</span>--gif_size <span class="o">[</span>GIF_SIZE<span class="o">]]</span> <span class="o">[</span>--snapshot <span class="o">[</span>SNAPSHOT<span class="o">]]</span>
                          <span class="o">[</span>--record RECORD <span class="o">[</span>RECORD ...<span class="o">]]</span>
                          <span class="o">[</span>--new_report <span class="o">[</span>NEW_REPORT<span class="o">]]</span>
                          script

positional arguments:
  script                script filepath

optional arguments:
  -h, --help            show this <span class="nb">help</span> message and <span class="nb">exit</span>
  --outfile OUTFILE     output html filepath, default to be log.html
  --static_root STATIC_ROOT
                        static files root dir
  --log_root LOG_ROOT   log <span class="p">&amp;</span> screen data root dir, logfile should be
                        log_root/log.txt
  --gif <span class="o">[</span>GIF<span class="o">]</span>           generate gif, default to be log.gif
  --gif_size <span class="o">[</span>GIF_SIZE<span class="o">]</span>
                        gif thumbnails size <span class="o">(</span><span class="m">0</span>.1-1<span class="o">)</span>, default <span class="m">0</span>.3
  --snapshot <span class="o">[</span>SNAPSHOT<span class="o">]</span>
                        get all snapshot
  --record RECORD <span class="o">[</span>RECORD ...<span class="o">]</span>
                        add screen record to log.html
  --new_report <span class="o">[</span>NEW_REPORT<span class="o">]</span>
</pre></div>
</div>
</div>
<div class="section" id="get-test-case-info">
<span id="get-test-case-info"></span><h3>get test case info<a class="headerlink" href="#get-test-case-info" title="Permalink to this headline">¶</a></h3>
<div class="highlight-Shell"><div class="highlight"><pre><span></span><span class="c1"># get test case info in json, including: author, title, desc</span>
&gt; python -m airtest info &lt;path to your owl directory&gt;
<span class="o">{</span><span class="s2">&quot;author&quot;</span>: ..., <span class="s2">&quot;title&quot;</span>: ..., <span class="s2">&quot;desc&quot;</span>: ...<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="all_module/airtest.core.api.html" class="btn btn-neutral float-right" title="airtest.core.api module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Welcome to Airtest documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Game-Netease.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>